(()=>{var e={};e.id=882,e.ids=[882],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7348:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(1931),s(4450),s(7824);var r=s(3282),a=s(5736),n=s(3906),i=s.n(n),l=s(6880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["event",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1931)),"/Users/venkatesan.prakash/Desktop/exp/apps/web/src/app/event/[slug]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4450)),"/Users/venkatesan.prakash/Desktop/exp/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7824,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/venkatesan.prakash/Desktop/exp/apps/web/src/app/event/[slug]/page.tsx"],u="/event/[slug]/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/event/[slug]/page",pathname:"/event/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3352:(e,t,s)=>{Promise.resolve().then(s.bind(s,2782))},2782:(e,t,s)=>{"use strict";s.d(t,{EventDetailClient:()=>m});var r=s(3227),a=s(3677),n=s(1043);function i({tiers:e,tickets:t,tier:s,onTierChange:i,onTicketsChange:l,eventSlug:o,selectedZoneId:d}){let c=e.find(e=>e.key===s),u=c?.maxTickets??9,m=(0,n.useRouter)(),[x,p]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[b,g]=(0,a.useState)(""),[v,j]=(0,a.useState)("idle"),[y,k]=(0,a.useState)("");return(0,r.jsxs)("div",{className:"glass rounded-3xl p-6",children:[r.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-white",children:"Booking details"}),r.jsx("label",{className:"mt-4 block text-sm text-slate-600 dark:text-slate-300",htmlFor:"tierSelect",children:"Customer tier"}),r.jsx("select",{id:"tierSelect",className:"input-base mt-2",value:s,onChange:e=>i(e.target.value),children:e.map(e=>(0,r.jsxs)("option",{value:e.key,children:[e.label," \xb7 up to ",e.maxTickets," tickets"]},e.key))}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300",htmlFor:"ticketCount",children:"Tickets"}),r.jsx("input",{id:"ticketCount",className:"input-base mt-2",type:"number",min:1,max:u,value:t,onChange:e=>l(Number(e.target.value))}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:["Max allowed for this tier: ",u]})]}),(0,r.jsxs)("div",{className:"mt-5",children:[r.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300",htmlFor:"name",children:"Name"}),r.jsx("input",{id:"name",className:"input-base mt-2",placeholder:"Full name",value:x,onChange:e=>p(e.target.value)})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300",htmlFor:"email",children:"Email"}),r.jsx("input",{id:"email",className:"input-base mt-2",placeholder:"name@email.com",type:"email",value:h,onChange:e=>f(e.target.value)})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300",htmlFor:"phone",children:"Mobile number"}),r.jsx("input",{id:"phone",className:"input-base mt-2",placeholder:"+1 555 0100",value:b,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{className:"mt-4 rounded-2xl border border-slate-100 bg-white p-4 text-sm text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-900 dark:text-slate-300",children:[r.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:"OTP verification"}),"idle"===v&&r.jsx("button",{className:"btn-secondary mt-3",type:"button",onClick:()=>j("sent"),children:"Send OTP"}),"sent"===v&&(0,r.jsxs)("div",{className:"mt-3 grid gap-3 md:grid-cols-[1fr_auto]",children:[r.jsx("input",{className:"input-base",placeholder:"Enter OTP",value:y,onChange:e=>k(e.target.value)}),r.jsx("button",{className:"btn-primary",type:"button",onClick:()=>j(/^\d{4}$/.test(y.trim())?"verified":"sent"),children:"Verify"})]}),"verified"===v&&r.jsx("div",{className:"mt-3 text-sm font-semibold text-brand-600",children:"OTP verified ✅"})]}),r.jsx("button",{className:"btn-primary mt-6 w-full",onClick:()=>{if(!x.trim()||!h.trim()||!b.trim()){window.alert("Please fill name, email, and mobile number.");return}if("verified"!==v){window.alert("Please verify OTP before continuing.");return}let e=new URLSearchParams({tickets:String(t),tier:s,zone:d,name:x,email:h,phone:b});m.push(`/checkout/${o}?${e.toString()}`)},type:"button",children:"Continue to payment"})]})}function l(e,t){let s=t.distanceFactor;return"decrease_with_distance"===e.priceCurve?Math.max(10,Math.round(t.basePrice*(1-.4*s))):Math.max(10,Math.round(t.basePrice*(1+.4*s)))}function o({event:e,zone:t,tickets:s,discountPercent:a}){let n=l(e,t),i=function(e,t,s,r){let a=l(e,t)*s;return r&&r>0?Math.max(0,Math.round(a*(1-r/100))):a}(e,t,s,a);return(0,r.jsxs)("div",{className:"glass rounded-3xl p-6",children:[r.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-white",children:"Pricing summary"}),(0,r.jsxs)("div",{className:"mt-3 space-y-1 text-sm text-slate-600 dark:text-slate-300",children:[(0,r.jsxs)("div",{children:["Zone price: ",n," ",e.currency]}),(0,r.jsxs)("div",{children:["Tickets: ",s]}),a?(0,r.jsxs)("div",{children:["Discount: ",a,"%"]}):null]}),(0,r.jsxs)("div",{className:"mt-4 text-xl font-semibold text-slate-900 dark:text-white",children:["Total: ",i," ",e.currency]})]})}function d({event:e,selectedZone:t,onSelectZone:s}){let n=e.seatMap.zones,i=(0,a.useMemo)(()=>Math.max(...n.map(e=>e.cols)),[n]);return(0,r.jsxs)("div",{className:"glass rounded-3xl p-6",children:[r.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-white",children:"stage_top"===e.seatMap.orientation?"Stage":"Screen"}),r.jsx("div",{className:"mt-4 grid gap-3",children:n.map(a=>{let n=l(e,a);return(0,r.jsxs)("button",{className:`rounded-2xl border p-4 text-left transition ${a.id===t.id?"border-brand-500 bg-brand-50 dark:bg-slate-900":"border-slate-200 bg-white hover:border-brand-200 dark:border-slate-800 dark:bg-slate-900"}`,onClick:()=>s(a),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:a.label}),(0,r.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:[n," ",e.currency]})]}),r.jsx("div",{className:"mt-3 grid gap-1",style:{gridTemplateColumns:`repeat(${i}, 1fr)`},children:Array.from({length:a.rows*i}).map((e,s)=>{let n=Math.floor(s/i)<a.rows&&s%i<a.cols;return r.jsx("div",{className:`h-5 rounded-md text-center text-[9px] ${a.id===t.id?"bg-brand-500 text-white":"bg-slate-100 dark:bg-slate-800"}`,style:{opacity:n?1:0},children:n?"•":""},`${a.id}-${s}`)})})]},a.id)})})]})}function c({venue:e}){return(0,r.jsxs)("div",{className:"glass rounded-3xl p-6",children:[r.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-white",children:"Venue map"}),r.jsx("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[e.address,", ",e.city]}),r.jsx("div",{className:"mt-4 flex h-40 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-100 to-brand-50 text-sm font-semibold text-slate-700 dark:from-slate-900 dark:to-slate-800 dark:text-slate-200",children:"Map preview"})]})}function u({opensAt:e}){let[t,s]=(0,a.useState)(null);return null===t?null:0===t?r.jsx("span",{className:"badge badge-brand",children:"Booking open"}):(0,r.jsxs)("span",{className:"badge badge-muted",children:["Opens in ",t,"s"]})}function m({event:e,tiers:t}){let[s,n]=(0,a.useState)(e.seatMap.zones[0]),[l,m]=(0,a.useState)(2),[x,p]=(0,a.useState)(t[0]?.key??"normal"),h=(0,a.useMemo)(()=>e.isPromoted?10:0,[e.isPromoted]);return(0,r.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-10",children:[(0,r.jsxs)("section",{className:"grid gap-8 md:grid-cols-[1.1fr_0.9fr]",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"badge badge-brand",children:e.type.toUpperCase()}),e.isPromoted&&r.jsx("span",{className:"badge badge-muted",children:"Promoted"})]}),r.jsx("h1",{className:"text-4xl font-semibold text-slate-900 dark:text-white",children:e.title}),r.jsx("p",{className:"text-base text-slate-600 dark:text-slate-300",children:e.about??"Experience an unforgettable night with immersive audio, brilliant visuals, and a crowd that brings the energy."}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500 dark:text-slate-300",children:[(0,r.jsxs)("span",{children:[e.venue.city,", ",e.venue.country]}),r.jsx("span",{children:"\xb7"}),r.jsx("span",{children:new Date(e.schedule.startAt).toLocaleString()})]})]}),(0,r.jsxs)("div",{className:"glass rounded-3xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Booking opens"}),r.jsx(u,{opensAt:e.schedule.bookingOpensAt})]}),r.jsx("div",{className:"mt-4",children:r.jsx(o,{event:e,zone:s,tickets:l,discountPercent:h})})]})]}),(0,r.jsxs)("section",{className:"mt-10 grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(d,{event:e,selectedZone:s,onSelectZone:n}),r.jsx(c,{venue:e.venue})]}),r.jsx("div",{className:"space-y-6",children:r.jsx(i,{tiers:t,tickets:l,tier:x,onTierChange:p,onTicketsChange:e=>m(Math.max(1,e)),eventSlug:e.slug,selectedZoneId:s.id})})]})]})}},1043:(e,t,s)=>{"use strict";var r=s(2854);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},1931:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(9013),a=s(9011),n=s(3189);let i=(0,n.createProxy)(String.raw`/Users/venkatesan.prakash/Desktop/exp/apps/web/src/components/EventDetailClient.tsx`),{__esModule:l,$$typeof:o}=i;i.default;let d=(0,n.createProxy)(String.raw`/Users/venkatesan.prakash/Desktop/exp/apps/web/src/components/EventDetailClient.tsx#EventDetailClient`);var c=s(8721);async function u({params:e}){let t=await (0,c.Yg)(e.slug);t||(0,a.notFound)();let s=await (0,c.PF)();return r.jsx(d,{event:t,tiers:s})}},9011:(e,t,s)=>{"use strict";var r=s(2349);s.o(r,"notFound")&&s.d(t,{notFound:function(){return r.notFound}})},2349:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return r.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return r.permanentRedirect},redirect:function(){return r.redirect}});let r=s(9520),a=s(8433);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{isNotFoundError:function(){return a},notFound:function(){return r}});let s="NEXT_NOT_FOUND";function r(){let e=Error(s);throw e.digest=s,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===s}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8218:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return s}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9520:(e,t,s)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{RedirectType:function(){return r},getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return x},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=s(4580),n=s(2934),i=s(8218),l="NEXT_REDIRECT";function o(e,t,s){void 0===s&&(s=i.RedirectStatusCode.TemporaryRedirect);let r=Error(l);r.digest=l+";"+t+";"+e+";"+s+";";let n=a.requestAsyncStorage.getStore();return n&&(r.mutableCookies=n.mutableCookies),r}function d(e,t){void 0===t&&(t="replace");let s=n.actionAsyncStorage.getStore();throw o(e,t,(null==s?void 0:s.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let s=n.actionAsyncStorage.getStore();throw o(e,t,(null==s?void 0:s.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,s,r,a]=e.digest.split(";",4),n=Number(a);return t===l&&("replace"===s||"push"===s)&&"string"==typeof r&&!isNaN(n)&&n in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function x(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[156,102],()=>s(7348));module.exports=r})();